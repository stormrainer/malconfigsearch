#-------------------------------------------------------------------------------
# Name:        malwareconfig.py
# Purpose:
#
# Author:      stormrainer
#
# Created:     21/04/2014
# Copyright:   (c) stormrainer 2014
# Licence:     <your licence>
#-------------------------------------------------------------------------------
import urllib2                  # For downloading resourses from Internet
import urlparse                 # For operations with URL stings
import urllib
from bs4 import BeautifulSoup

# Current home page for malware config decoding site
RawURL = "http://malwareconfig.com"

# this retrieves the home page and parses out the 10 decoded config links for later use

def retList(url):
    try:
        response = urllib2.urlopen(url)
        soup = BeautifulSoup(response) #parsing
        for link in soup.find_all('config'):
            #if 'config' in link:
            print(link.get('href'))
            #print(RawURL + link.get('href'))
        #print(soup.prettify())
#        return soup
    except urllib2.HTTPError, e:
        print'HTTPError = ' + str(e.code)

#def parseHref(html):
#    print(html.prettify())
#    for tag in html.findAll('a',href=True): #findAll (with capital A) is a method OF Soup object ;) #href = True means there is actually a real link
#        tag ['href'] = urlparse.urljoin(RawURL,tag['href'])
#        for tags in tag:
#            print tags

def main():
    #retList("exit-addresses")
#   parseHref(retList(RawURL))
    retList(RawURL)
    pass

if __name__ == '__main__':
    main()
